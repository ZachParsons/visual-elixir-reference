\matrix [fptk, map=a] {
    \keyvalue{1} &
    \keyvalue{2} &
    \elems &
    \keyvalue{i-1} &
    \keyvalue{i} &
    \elems &
    \keyvalue{n-1} &
    \keyvalue{n} \\
};

\foreach \i/\e/\d in {
    1/\in/1,
    2/\notin/.5,
    i-1/\notin/.5,
    i/\in/1,
    n-1/\in/1,
    n/\notin/.5}
{
    \predtop[\d]{a\i.north}{$k_{\i}\e\texttt{keys}$};
}

\matrix [fptk, map=b, below=1 of a] {
    \keyvalue{2} &
    \elems &
    \keyvalue{i-1} &
    \elems &
    \keyvalue{n} \\
};

\foreach \i/\d/\p in {
    2/.25/300,
    i-1/.3/300,
    n/-.2/240
}{
    \draw [fptk, flow ->=soft] (a\i.\p) to (b\i.north);
}
