\matrix [fptk, list=a] {
    \elem{1} &
    \elem{2} &
    \elems &
    \elem{i} &
    \elems &
    \elem{n} \\
};

\matrix [fptk, list=b, below=2 of a] {
    \elem{1} &
    \elem{2} &
    \elems &
    \elem{i} &
    \elems &
    \elem{n} \\
};

\foreach \i in {1, 2, i, n}{
    \node (fun\i) at ($ (a\i.south)!.5!(b\i.north) $) [fptk, fun];
    \draw [fptk, flow ->] (a\i) -- (fun\i.north);
    \draw [fptk, flow ->] (fun\i.south) -- (b\i);
}
