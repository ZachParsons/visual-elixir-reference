\matrix [fptk, list=a] {
    \elem{1} &
    \elem{2} &
    \elem{3} &
    \elems &
    \elem{i-1} &
    \elem{i} &
    \elems &
    \elem{n-1} &
    \elem{n} \\
};

\foreach \i/\r in {
    1/\true,
    2/\false,
    3/1,
    i-1/\true,
    i/\nil,
    n-1/\texttt{:atom},
    n/\false
}{
    \applyfuntop{a\i.north}{\r}
}

\matrix [fptk, tuplex={t}{1.25}, below=2 of a] {
    \placeholder[1]{6} & \comma &
    \placeholder[2]{5} \\
};

\matrix at (t1) [fptk, list=b, element=a] {
    \elem{1} &
    \elem{3} &
    \elems[1] &
    \elem{i-1} &
    \elems[1] &
    \elem{n-1} \\
};

\matrix at (t2) [fptk, list=b, element=a] {
    \elem{2} &
    \elems[1] &
    \elem{i} &
    \elems[1] &
    \elem{n} \\
};

\foreach \i in {1, 2, 3, i-1, i, n-1, n}{
    \draw [fptk, flow ->=zigzag] (a\i.south) -- (b\i.north);
}
